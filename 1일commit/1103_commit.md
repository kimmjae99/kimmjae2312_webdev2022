# 11/03 **커밋 내용**

---

## 11/03 목**요일**

36번째 커밋

# 24.2 함수 객체의 내부슬롯 [[Environment]]

- 함수가 정의된 환경과 호출되는 환경은 다를 수 있다.
- 따라서 렉시컬 스코프가 가능하려면 함수는 자신이 호출되는 환경과는 상관없이 자신이 정의된 환경, 즉 상위 스코프를 기억해야한다.
- 이를 위해 함수는 자신의 내부 슬롯 [[Environment]]에 자신이 정위된 환경, 즉 상위 스코프의 참조를 저장한다.

- 다시말해, 함수 정의가 평가되어 함수 객체를 생성할 때 자신이 정의된 환경에 의해 결정된 상위 스코프의 참조를 함수 객체 자신의 내부 슬롯 [[Environment]]에 저장한다.
- 이때 자신의 내부 슬롯 [[Environment]]에 저장된 상위 스코프의 참조는 현재 실행 중인 실행 컨텍스트의 렉시컬 환경을 가리킨다.
- 왜냐하면 함수 정의가 평가되어 함수 객체를 생성하는 시점은 함수가 정의된 환경, 즉 상위 함수가 평가 또는 실행되고 있는 시점이며, 이때 현재 실행중인 실행 컨텍스트는 상위 함수의 실행 컨텍스트이기 때문이다.